# ğŸ”— URLs SpÃ©cifiques par Compte

## ğŸ“‹ Table de Routage PersonnalisÃ©e

Chaque compte SOGARA Access possÃ¨de maintenant sa propre URL de destination et son dashboard adaptÃ© Ã  son rÃ´le.

---

## ğŸ¯ Mapping Comptes â†’ URLs

| Matricule  | Nom                 | RÃ´le                      | URL SpÃ©cifique   | Dashboard                     |
| ---------- | ------------------- | ------------------------- | ---------------- | ----------------------------- |
| **ADM001** | PELLEN Asted        | ADMIN                     | `/app/admin`     | Dashboard Administrateur      |
| **DG001**  | Daniel MVOU         | DG, ADMIN                 | `/app/direction` | Dashboard Direction GÃ©nÃ©rale  |
| **DRH001** | Brigitte NGUEMA     | DRH, ADMIN                | `/app/rh`        | Dashboard Ressources Humaines |
| **COM001** | Clarisse MBOUMBA    | COMMUNICATION             | `/app/connect`   | SOGARA Connect                |
| **HSE001** | Marie-Claire NZIEGE | HSE, COMPLIANCE, SECURITE | `/app/hse`       | Dashboard HSE Complet         |
| **REC001** | Sylvie KOUMBA       | RECEP                     | `/app/visites`   | Gestion Visites & Colis       |
| **EMP001** | Pierre BEKALE       | EMPLOYE                   | `/app/dashboard` | Dashboard EmployÃ©             |

---

## ğŸ“„ DÃ©tails par Compte

### 1. ADM001 - PELLEN Asted ğŸ”§

**URL**: `https://sogara.lovable.app/app/admin`

#### Dashboard Administrateur

- **Modules accessibles** :
  - Personnel (gestion complÃ¨te)
  - HSE & SÃ©curitÃ© (supervision)
  - Ã‰quipements (gestion EPI)
  - Visites (contrÃ´le accÃ¨s)
  - SOGARA Connect (modÃ©ration)
  - Projet & Documentation

- **KPIs affichÃ©s** :
  - Nombre d'employÃ©s
  - Visites aujourd'hui
  - Taux conformitÃ© HSE
  - DisponibilitÃ© systÃ¨me

- **Actions rapides** :
  - GÃ©rer les utilisateurs
  - Supervision HSE
  - Documentation systÃ¨me

- **Permissions** : AccÃ¨s complet (ADMIN)

---

### 2. DG001 - Daniel MVOU ğŸ‘‘

**URL**: `https://sogara.lovable.app/app/direction`

#### Dashboard Direction GÃ©nÃ©rale

- **Vue stratÃ©gique** :
  - Performance opÃ©rationnelle (95%)
  - Effectif total
  - ConformitÃ© HSE
  - Objectifs stratÃ©giques (8/10)

- **Pilotage par domaine** :
  - Ressources Humaines (effectif, formations)
  - HSE & ConformitÃ© (taux, incidents)
  - OpÃ©rations & Production (Ã©quipements, maintenance)
  - Communication Interne (publications, engagement)

- **Indicateurs clÃ©s** :
  - Taux conformitÃ© HSE (barre de progression)
  - Ã‰quipements opÃ©rationnels (95%)
  - Satisfaction interne (88%)

- **PrioritÃ©s de la semaine** :
  - Audit HSE trimestriel
  - ComitÃ© de direction
  - PrÃ©sentation rÃ©sultats Q1

- **Permissions** : AccÃ¨s complet (DG + ADMIN)

---

### 3. DRH001 - Brigitte NGUEMA ğŸ‘¥

**URL**: `https://sogara.lovable.app/app/rh`

#### Dashboard Ressources Humaines

- **KPIs RH** :
  - Effectif total ({count} collaborateurs)
  - Formations HSE cette semaine
  - Taux conformitÃ© formations
  - Satisfaction (87% enquÃªte annuelle)

- **Modules RH** :
  - Gestion du Personnel (base de donnÃ©es)
  - Formations & CompÃ©tences (suivi habilitations)
  - SÃ©curitÃ© & ConformitÃ© (HSE rÃ©glementaire)

- **RÃ©partition par service** :
  - Production : X employÃ©s
  - HSE et ConformitÃ© : X employÃ©s
  - Communication : X employÃ©
  - SÃ©curitÃ© : X employÃ©
  - Direction GÃ©nÃ©rale : X employÃ©
  - Ressources Humaines : X employÃ©
  - ORGANEUS Gabon : X employÃ©

- **Actions RH prioritaires** :
  - GÃ©rer les employÃ©s
  - Suivi formations HSE
  - ConformitÃ© et habilitations
  - Communication RH

- **Permissions** : Personnel, Formations, HSE (DRH + ADMIN)

---

### 4. COM001 - Clarisse MBOUMBA ğŸ“¢

**URL**: `https://sogara.lovable.app/app/connect`

#### SOGARA Connect (Communication)

- **Page dÃ©diÃ©e** : Publication et gestion de contenu
- **FonctionnalitÃ©s** :
  - CrÃ©er/Ã©diter des publications
  - GÃ©rer actualitÃ©s, annonces, Ã©vÃ©nements
  - Statistiques engagement (vues, likes, commentaires)
  - CatÃ©gorisation et tags

- **Statistiques** :
  - Total publications
  - Publications cette semaine
  - RÃ©partition par catÃ©gorie

- **Permissions** : SOGARA Connect (Ã©dition complÃ¨te)

---

### 5. HSE001 - Marie-Claire NZIEGE ğŸ›¡ï¸

**URL**: `https://sogara.lovable.app/app/hse`

#### Dashboard HSE Complet (9 onglets)

- **Modules spÃ©cialisÃ©s** :
  1. Vue d'ensemble (KPIs)
  2. Incidents (gestion et enquÃªtes)
  3. Formations & Modules (catalogue 9 formations)
  4. Collaborateurs (suivi personnalisÃ©)
  5. Notifications (communication ciblÃ©e)
  6. Attribution Auto (rÃ¨gles automatiques)
  7. ConformitÃ© & EPI (Ã©quipements)
  8. SystÃ¨me & Outils (admin)
  9. Analyses & Rapports (graphiques)

- **FonctionnalitÃ©s avancÃ©es** :
  - Attribution automatique formations
  - Centre de notifications HSE
  - Suivi conformitÃ© par employÃ©
  - Gestion incidents critiques (H2S, etc.)

- **Permissions** : HSE, COMPLIANCE, SECURITE

---

### 6. REC001 - Sylvie KOUMBA ğŸ“¦

**URL**: `https://sogara.lovable.app/app/visites`

#### Gestion Visites & Colis

- **Page dÃ©diÃ©e** : RÃ©ception et contrÃ´le accÃ¨s
- **FonctionnalitÃ©s** :
  - Enregistrement visiteurs
  - Check-in / Check-out
  - Gestion badges
  - RÃ©ception colis et courriers
  - Distribution destinataires

- **Statistiques** :
  - Visites aujourd'hui
  - Colis en attente
  - Badges actifs

- **Permissions** : Visites, Colis & Courriers (RECEP)

---

### 7. EMP001 - Pierre BEKALE âš™ï¸

**URL**: `https://sogara.lovable.app/app/dashboard`

#### Dashboard EmployÃ© Standard

- **Vue personnelle** :
  - Informations de service
  - Indicateurs personnels
  - Formations planifiÃ©es
  - Ã‰quipements affectÃ©s

- **AccÃ¨s lecture** :
  - SOGARA Connect (actualitÃ©s)
  - Notifications personnelles

- **Permissions** : Dashboard, SOGARA Connect (lecture seule)

---

## ğŸ”„ Logique de Redirection

### AprÃ¨s Login

```typescript
// Dans LoginForm.tsx
const account = demoAccounts.find(acc => acc.id === accountId)
if (account?.defaultRoute) {
  window.location.href = account.defaultRoute
}
```

### Comportement

1. **Login avec matricule** â†’ Authentification
2. **RÃ©cupÃ©ration du defaultRoute** dans demoAccounts
3. **Redirection automatique** vers l'URL spÃ©cifique
4. **Affichage du dashboard** adaptÃ© au rÃ´le

### Exemples

```
Login ADM001 â†’ Redirect to /app/admin
Login DG001  â†’ Redirect to /app/direction
Login DRH001 â†’ Redirect to /app/rh
Login COM001 â†’ Redirect to /app/connect
Login HSE001 â†’ Redirect to /app/hse
Login REC001 â†’ Redirect to /app/visites
Login EMP001 â†’ Redirect to /app/dashboard
```

---

## ğŸ›¡ï¸ Protection des Routes

### Routes ProtÃ©gÃ©es dans App.tsx

```typescript
// Dashboard Administrateur (ADMIN uniquement)
<Route path="admin" element={
  <RoleProtected roles={['ADMIN']}>
    <AdminDashboard />
  </RoleProtected>
} />

// Dashboard Direction (DG ou ADMIN)
<Route path="direction" element={
  <RoleProtected roles={['DG', 'ADMIN']}>
    <DirectionDashboard />
  </RoleProtected>
} />

// Dashboard RH (DRH ou ADMIN)
<Route path="rh" element={
  <RoleProtected roles={['DRH', 'ADMIN']}>
    <RHDashboard />
  </RoleProtected>
} />

// HSE (HSE ou ADMIN)
<Route path="hse" element={
  <RoleProtected roles={['ADMIN', 'HSE']}>
    <HSEPage />
  </RoleProtected>
} />

// Visites (RECEP, SUPERVISEUR ou ADMIN)
<Route path="visites" element={
  <RoleProtected roles={['ADMIN', 'RECEP', 'SUPERVISEUR']}>
    <VisitesPage />
  </RoleProtected>
} />
```

### ContrÃ´le d'AccÃ¨s

- âœ… Utilisateur sans le rÃ´le requis â†’ Redirect to `/app/dashboard`
- âœ… Utilisateur non authentifiÃ© â†’ Redirect to `/login`

---

## ğŸ¨ DiffÃ©renciation Visuelle

### Couleurs par Compte

```
ADM001 â†’ bg-destructive (rouge/admin)
DG001  â†’ bg-primary (bleu/direction)
DRH001 â†’ bg-secondary (gris/RH)
COM001 â†’ bg-accent (violet/communication)
HSE001 â†’ bg-secondary (orange/HSE)
REC001 â†’ bg-accent (vert/rÃ©ception)
EMP001 â†’ bg-secondary (gris/employÃ©)
```

### IcÃ´nes par RÃ´le

```
ADM001 â†’ Settings âš™ï¸
DG001  â†’ Crown ğŸ‘‘
DRH001 â†’ UserCog ğŸ‘¥
COM001 â†’ Megaphone ğŸ“¢
HSE001 â†’ Shield ğŸ›¡ï¸
REC001 â†’ Package ğŸ“¦
EMP001 â†’ HardHat âš’ï¸
```

---

## ğŸ“Š Contenu SpÃ©cifique par Dashboard

### AdminDashboard (ADM001)

- **Focus** : Supervision technique et systÃ¨me
- **Modules** : Tous (6 cards cliquables)
- **Actions** : Gestion utilisateurs, HSE, Documentation

### DirectionDashboard (DG001)

- **Focus** : Vision stratÃ©gique et performance
- **KPIs** : Performance opÃ©rationnelle, objectifs, conformitÃ©
- **Pilotage** : Par domaine (RH, HSE, Ops, Communication)
- **PrioritÃ©s** : Agenda direction (audits, comitÃ©s, prÃ©sentations)

### RHDashboard (DRH001)

- **Focus** : Capital humain et formations
- **KPIs** : Effectif, formations, conformitÃ©, satisfaction
- **Modules** : Personnel, Formations, ConformitÃ©
- **RÃ©partition** : Par service (dÃ©tail effectifs)

### HSEDashboard (HSE001)

- **Focus** : SÃ©curitÃ©, formations, conformitÃ©
- **Modules** : 9 onglets spÃ©cialisÃ©s
- **FonctionnalitÃ©s** : Gestion collaborateurs, notifications, attribution auto

### SOGARA Connect (COM001)

- **Focus** : Communication et contenu
- **FonctionnalitÃ©s** : Publication, Ã©dition, engagement

### Visites (REC001)

- **Focus** : Accueil et sÃ©curitÃ©
- **FonctionnalitÃ©s** : Visiteurs, badges, colis

### Dashboard EmployÃ© (EMP001)

- **Focus** : Vue personnelle
- **AccÃ¨s** : Lecture informations et actualitÃ©s

---

## âœ… Tests de Validation

### Test 1: Redirection ADM001

```
1. Login avec ADM001
2. VÃ©rifier redirect â†’ /app/admin
3. VÃ©rifier dashboard "Administrateur" affichÃ©
4. VÃ©rifier 6 modules accessibles
```

### Test 2: Redirection DG001

```
1. Login avec DG001
2. VÃ©rifier redirect â†’ /app/direction
3. VÃ©rifier dashboard "Direction GÃ©nÃ©rale" affichÃ©
4. VÃ©rifier 4 domaines stratÃ©giques
```

### Test 3: Redirection DRH001

```
1. Login avec DRH001
2. VÃ©rifier redirect â†’ /app/rh
3. VÃ©rifier dashboard "Ressources Humaines" affichÃ©
4. VÃ©rifier rÃ©partition par service
```

### Test 4: URLs Existantes

```
COM001 â†’ /app/connect âœ… (dÃ©jÃ  fonctionnel)
HSE001 â†’ /app/hse âœ… (dÃ©jÃ  fonctionnel)
REC001 â†’ /app/visites âœ… (dÃ©jÃ  fonctionnel)
EMP001 â†’ /app/dashboard âœ… (existant)
```

### Test 5: Protection Routes

```
EmployÃ© (EMP001) tente /app/admin â†’ Redirect /app/dashboard âœ…
RÃ©ceptionniste (REC001) tente /app/direction â†’ Redirect /app/dashboard âœ…
```

---

## ğŸ”§ Fichiers ModifiÃ©s

### 1. Routes et Dashboards

- âœ… `src/pages/AdminDashboard.tsx` (CRÃ‰Ã‰)
- âœ… `src/pages/DirectionDashboard.tsx` (CRÃ‰Ã‰)
- âœ… `src/pages/RHDashboard.tsx` (CRÃ‰Ã‰)
- âœ… `src/App.tsx` (3 routes ajoutÃ©es)

### 2. Configuration Comptes

- âœ… `src/data/demoAccounts.ts` (defaultRoute mis Ã  jour)
  - ADM001: `/app/dashboard` â†’ `/app/admin`
  - DG001: `/app/dashboard` â†’ `/app/direction`
  - DRH001: `/app/dashboard` â†’ `/app/rh`

### 3. Authentification

- âœ… `src/components/auth/LoginForm.tsx` (redirection auto ajoutÃ©e)

---

## ğŸ“± Navigation Interne

### Depuis n'importe quel dashboard

Les utilisateurs peuvent naviguer vers les modules autorisÃ©s via:

1. **Navigation latÃ©rale** (sidebar)
2. **Cards cliquables** dans leur dashboard
3. **Actions rapides** (header dropdown)
4. **URL directe** (si permissions suffisantes)

### Exemple: DG001 (Direction GÃ©nÃ©rale)

```
Dashboard Direction (/app/direction)
  â†“ (clic card "Ressources Humaines")
Module RH (/app/rh) â†’ Accessible car DG a rÃ´le ADMIN
  â†“ (clic "GÃ©rer employÃ©s")
Personnel (/app/personnel) â†’ Accessible
```

---

## ğŸ¯ Avantages de l'Architecture

### 1. **ExpÃ©rience PersonnalisÃ©e**

- Chaque rÃ´le voit d'abord ce qui le concerne
- Dashboards optimisÃ©s pour les besoins mÃ©tier
- Navigation intuitive vers fonctions principales

### 2. **SÃ©curitÃ© RenforcÃ©e**

- Routes protÃ©gÃ©es par rÃ´le (RoleProtected)
- Redirection automatique si accÃ¨s non autorisÃ©
- SÃ©paration claire des niveaux d'accÃ¨s

### 3. **Maintenance FacilitÃ©e**

- defaultRoute centralisÃ© dans demoAccounts
- Ajout/modification de comptes simplifiÃ©
- Protection automatique via tableau de routes

### 4. **ScalabilitÃ©**

- Nouveaux rÃ´les faciles Ã  ajouter
- Dashboards modulaires et rÃ©utilisables
- Pattern clair pour nouvelles pages

---

## ğŸ”— URLs Publiques (aprÃ¨s dÃ©ploiement)

```
# Administrateur
https://sogara.lovable.app/app/admin

# Direction GÃ©nÃ©rale
https://sogara.lovable.app/app/direction

# Ressources Humaines
https://sogara.lovable.app/app/rh

# Communication
https://sogara.lovable.app/app/connect

# HSE & ConformitÃ©
https://sogara.lovable.app/app/hse

# RÃ©ception & SÃ©curitÃ©
https://sogara.lovable.app/app/visites

# EmployÃ© Standard
https://sogara.lovable.app/app/dashboard
```

---

## âœ… Statut d'ImplÃ©mentation

| Compte | URL              | Dashboard          | Route ProtÃ©gÃ©e | Redirect Auto | Status          |
| ------ | ---------------- | ------------------ | -------------- | ------------- | --------------- |
| ADM001 | `/app/admin`     | AdminDashboard     | âœ… ADMIN       | âœ…            | âœ… OpÃ©rationnel |
| DG001  | `/app/direction` | DirectionDashboard | âœ… DG, ADMIN   | âœ…            | âœ… OpÃ©rationnel |
| DRH001 | `/app/rh`        | RHDashboard        | âœ… DRH, ADMIN  | âœ…            | âœ… OpÃ©rationnel |
| COM001 | `/app/connect`   | SOGARAConnectPage  | âœ… Tous        | âœ…            | âœ… OpÃ©rationnel |
| HSE001 | `/app/hse`       | HSEPage            | âœ… HSE, ADMIN  | âœ…            | âœ… OpÃ©rationnel |
| REC001 | `/app/visites`   | VisitesPage        | âœ… RECEP       | âœ…            | âœ… OpÃ©rationnel |
| EMP001 | `/app/dashboard` | Dashboard          | âœ… Tous        | âœ…            | âœ… OpÃ©rationnel |

---

**Version**: 1.0  
**Date**: 2025-01-09  
**Statut**: âœ… SystÃ¨me de Routage PersonnalisÃ© OpÃ©rationnel  
**Impact**: Chaque compte a maintenant son espace dÃ©diÃ© avec URL unique
